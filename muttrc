# Basic
set mbox_type=maildir
set editor='vim + -c "set textwidth=72" -c "set wrap" -c "set nocp" -c "?^$"'
set sort='reverse-threads'
set sort_aux='last-date-received'
set folder='~/.mail/'
set postponed='~/.cache/postponed-mails'

# Mailboxes
set nm_default_uri = "notmuch://$HOME/.mail/"
virtual-mailboxes "inbox"	"notmuch://?type=threads&query=tag:inbox and date:7d..now"
virtual-mailboxes "pro-in"	"notmuch://?type=threads&query=tag:blade-inbox and date:7d..now"
virtual-mailboxes "sent"	"notmuch://?type=threads&query=tag:Sent and date:1y..now"
virtual-mailboxes "lse-current"	"notmuch://?type=threads&query=tag:MLs/LSE"
virtual-mailboxes "strace"	"notmuch://?type=threads&query=tag:MLs/Strace and date:1y..now"
virtual-mailboxes "KVM"		"notmuch://?type=threads&query=tag:MLs/kvm and date:14d..now"
virtual-mailboxes "Virtu"	"notmuch://?type=threads&query=tag:MLs/Virtu and date:14d..now"
virtual-mailboxes "QEMU"	"notmuch://?type=threads&query=tag:MLs/qemu and date:10d..now"
virtual-mailboxes "all (2W)"	"notmuch://?type=threads&query=tag:All and date:7d..now"
virtual-mailboxes "Unreads"	"notmuch://?type=threads&query=tag:unread"
virtual-mailboxes "all"		"notmuch://?type=threads&query=tag:All"
virtual-mailboxes "junk"	"notmuch://?type=threads&query=tag:Junk"

set realname = "Antoine Damhet"
set signature = $HOME/.signature
set from = "Antoine Damhet <xdbob@lse.epita.fr>"
set record = +Sent
set reverse_name
set reverse_realname
alternates ^antoine.damhet@lse.epita.fr$ ^damhet_a@lse.epita.fr$ \
           ^antoine.damhet@gmail.com$ \
           ^xdbob@acu.epita.fr$ ^antoine.damhet@acu.epita.fr$ ^damhet_a@acu.epita.fr$ \
           ^damhet_a@epita.fr$ ^antoine.damhet@epita.fr$ \
           ^xdbob@live.fr$ ^antoine.damhet@blade-group.com$
set sendmail="msmtp --read-envelope-from"

# HTML handling
auto_view text/html
alternative_order text/plain text/html
set mailcap_path = $HOME/.mutt/mailcap

# Sidebar config
set sidebar_width=20
set sidebar_visible=yes
set sidebar_short_path=yes
set sidebar_format = '%B%?F? [%F]?%* %?N?%N/?%S'

set edit_headers=yes
set header_cache = $HOME/.mutt/cache/headers
set message_cachedir = $HOME/.mutt/cache/bodies

# GPG Config
set pgp_sign_as = 4C3AEF45D70C65052D3F37E02A5F5236CFB70DEC
set pgp_self_encrypt_as = 4C3AEF45D70C65052D3F37E02A5F5236CFB70DEC

# Default + notmuch tags at the end of line
set index_format="%4C %Z %{%b %d} %-15.15L (%?l?%4l&%4c?) %s %> (%g)"

unignore Message-ID
set display_filter="$HOME/.mutt/lorifier/lorifier.py"

source $HOME/.mutt/notmuch
source $HOME/.mutt/bindings
source $HOME/.mutt/colors
source $HOME/.mutt/gpg

# vim:ft=neomuttrc
